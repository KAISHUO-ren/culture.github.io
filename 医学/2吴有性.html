<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>å´æœ‰æ€§ä¸ã€Šç˜Ÿç–«è®ºã€‹</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.1/echarts.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'SimSun', serif;
            background: linear-gradient(135deg, #f5f3e9 0%, #e0dac6 100%);
            animation: fadeIn 1s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

       .container {
            display: flex;
            gap: 20px;
            height: 90vh;
        }

       .left-panel {
            width: 30%;
            background: rgba(255, 251, 230, 0.8);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            animation: slideInLeft 1s ease-in-out;
            position: relative;
        }

        @keyframes slideInLeft {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

       .right-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
            animation: slideInRight 1s ease-in-out;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

       .chart-section {
            background: white;
            border-radius: 10px;
            padding: 15px;
            position: relative;
            display: flex;
            flex-direction: column;
            flex: 1;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

       .chart-section:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

       .chart-section h3 {
            color: #8b0000;
            margin: 0 0 10px;
        }

       .chart-section p {
            color: #555;
            margin: 0 0 10px;
        }

       .chart-container {
            flex: 1;
            min-height: 200px;
        }

       .ancient-border {
            border: 2px solid #8b5e3c;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }

       .tooltip {
            position: absolute;
            padding: 8px;
            background: #fff3e0;
            border: 1px solid #d4b895;
            border-radius: 4px;
            pointer-events: none;
            font-size: 12px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

       .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            margin-bottom: 20px;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            animation: rotateVideo 10s linear infinite alternate;
        }

        @keyframes rotateVideo {
            from {
                transform: rotate(-2deg);
            }
            to {
                transform: rotate(2deg);
            }
        }

       .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

       .sparkle {
            position: absolute;
            width: 5px;
            height: 5px;
            background-color: #ffd700;
            border-radius: 50%;
            animation: sparkle 1s infinite;
        }

        @keyframes sparkle {
            0% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.5);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

       .floating-text {
            position: absolute;
            font-size: 18px;
            color: #8b0000;
            pointer-events: none;
            animation: floatText 10s linear infinite;
        }

        @keyframes floatText {
            0% {
                transform: translateY(0);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            80% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh);
                opacity: 0;
            }
        }

       .timeline {
            position: relative;
            padding: 20px 0;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

       .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            left: 10px;
            width: 2px;
            height: 100%;
            background: #8b5e3c;
        }

       .timeline-item {
            position: relative;
            margin-bottom: 20px;
            padding-left: 30px;
            animation: fadeInTimeline 1s ease-in-out;
        }

        @keyframes fadeInTimeline {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

       .timeline-item::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 3px;
            width: 12px;
            height: 12px;
            background: #8b0000;
            border-radius: 50%;
        }

       .timeline-item h4 {
            margin: 0;
            color: #8b0000;
        }

       .timeline-item p {
            margin: 5px 0 0;
            color: #555;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="left-panel">
            <h2 style="color: #8b0000;">å´æœ‰æ€§ä¸ã€Šç˜Ÿç–«è®ºã€‹</h2>
            <p>å´æœ‰æ€§ï¼Œå­—åˆå¯ï¼Œç”Ÿæ´»åœ¨æ˜æœ«æ¸…åˆçš„æ±Ÿè‹å´å¿ï¼Œæ˜¯ä¸­å›½å¤ä»£æ°å‡ºçš„æ¸©ç—…å­¦å®¶ã€‚åœ¨å½“æ—¶ç˜Ÿç–«æ¨ªè¡Œã€ä¼ ç»ŸåŒ»å­¦å¯¹ç–«ç—…è®¤è¯†ä¸è¶³çš„èƒŒæ™¯ä¸‹ï¼Œå´æœ‰æ€§é€šè¿‡æ·±å…¥è§‚å¯Ÿå’Œä¸´åºŠå®è·µï¼Œæ’°å†™äº†ã€Šç˜Ÿç–«è®ºã€‹ä¸€ä¹¦ã€‚è¿™æœ¬ä¹¦æ˜¯ä¸­å›½ç¬¬ä¸€éƒ¨ç³»ç»Ÿç ”ç©¶æ€¥æ€§ä¼ æŸ“ç—…çš„åŒ»å­¦è‘—ä½œï¼Œå¯¹åä¸–æ¸©ç—…å­¦è¯´çš„å‘å±•äº§ç”Ÿäº†æ·±è¿œå½±å“ã€‚</p>
            <div class="ancient-border">
                <img src="images/å´æœ‰æ€§.jpg" style="width:100%;height:400px;object-fit: cover;border-radius:5px;">
            </div>
            <h3>æ ¸å¿ƒè´¡çŒ®</h3>
            <p>å´æœ‰æ€§åœ¨ã€Šç˜Ÿç–«è®ºã€‹ä¸­æå‡ºäº†è¯¸å¤šå…·æœ‰å¼€åˆ›æ€§çš„ç†è®ºå’Œæ–¹æ³•ï¼Œå¯¹å¤ä»£åŒ»å­¦çš„å‘å±•åšå‡ºäº†å·¨å¤§è´¡çŒ®ã€‚ä»¥ä¸‹æ˜¯ä»–çš„ä¸€äº›æ ¸å¿ƒè´¡çŒ®ï¼š</p>
            <div class="ancient-border">
                <ul>
                    <li>ğŸ“œ æˆä¹¦æ—¶é—´ï¼š1642å¹´ï¼Œåœ¨å½“æ—¶ç–«ç—…è‚†è™çš„ç¯å¢ƒä¸‹ï¼Œå´æœ‰æ€§ç§¯æ•°åå¹´ç»éªŒè‘—æˆæ­¤ä¹¦ã€‚</li>
                    <li>ğŸ¦  æå‡º"æˆ¾æ°”"å­¦è¯´ï¼Œæ‰“ç ´äº†ä¼ ç»Ÿçš„ç—…å› è§‚å¿µï¼Œè®¤ä¸ºç˜Ÿç–«æ˜¯ç”±ä¸€ç§ç‰¹æ®Šçš„â€œæˆ¾æ°”â€æ‰€å¼•èµ·ã€‚</li>
                    <li>ğŸŒ¿ è®°è½½æŠ—ç–«è¯æ–¹58åˆ™ï¼Œè¿™äº›è¯æ–¹åœ¨å½“æ—¶çš„ç–«ç—…æ²»ç–—ä¸­å‘æŒ¥äº†é‡è¦ä½œç”¨ï¼Œä¸ºåä¸–ä¸´åºŠç”¨è¯æä¾›äº†å®è´µç»éªŒã€‚</li>
                    <li>âš•ï¸ åŒºåˆ†ä¼¤å¯’ä¸æ¸©ç—…ï¼Œæ˜ç¡®äº†ä¸¤è€…åœ¨ç—…å› ã€ç—…ç†å’Œæ²»ç–—æ–¹æ³•ä¸Šçš„ä¸åŒï¼Œçº æ­£äº†ä»¥å¾€çš„æ··æ·†ã€‚</li>
                    <li>ğŸ“– é¦–åˆ›"ç– æ°”"è‡´ç—…ç†è®ºï¼Œå¼ºè°ƒç– æ°”æ˜¯å¯¼è‡´ç–«ç—…æµè¡Œçš„æ ¹æºï¼Œä¸ºä¼ æŸ“ç—…çš„é˜²æ²»æä¾›äº†æ–°çš„æ€è·¯ã€‚</li>
                </ul>
            </div>
        </div>
        <div class="right-panel">
            <div class="video-container">
                <video autoplay muted loop>
                    <source src="images/å´æœ‰æ€§.mp4" type="video/mp4">
                </video>
            </div>
            <div class="timeline">
                <div class="timeline-item">
                    <h4>1582å¹´</h4>
                    <p>å´æœ‰æ€§ç”Ÿäºæ±Ÿè‹å´å¿</p>
                </div>
                <div class="timeline-item">
                    <h4>1621å¹´</h4>
                    <p>å¼€å§‹è¡ŒåŒ»ç”Ÿæ¶¯</p>
                </div>
                <div class="timeline-item">
                    <h4>1642å¹´</h4>
                    <p>å®Œæˆã€Šç˜Ÿç–«è®ºã€‹</p>
                </div>
                <div class="timeline-item">
                    <h4>1652å¹´</h4>
                    <p>å­¦æœ¯æ€æƒ³ä¼ æ’­</p>
                </div>
            </div>
            <div class="chart-section">
                <h3>ç˜Ÿç–«ä¼ æ’­è·¯å¾„æ¡‘åŸºå›¾</h3>
                <p>æ­¤æ¡‘åŸºå›¾å±•ç¤ºäº†å´æœ‰æ€§åœ¨ã€Šç˜Ÿç–«è®ºã€‹ä¸­æ‰€æè¿°çš„ç˜Ÿç–«ä¼ æ’­è·¯å¾„ã€‚ä»â€œæˆ¾æ°”â€çš„äº§ç”Ÿï¼Œåˆ°é€šè¿‡â€œå£é¼»å…¥ä¾µâ€äººä½“ï¼Œå†ç»è¿‡â€œè¡¨è¯é˜¶æ®µâ€â€œåŠè¡¨åŠé‡Œâ€â€œé‡Œè¯é˜¶æ®µâ€ï¼Œæœ€ç»ˆè¿›å…¥â€œæ¢å¤æœŸâ€ã€‚é€šè¿‡æ¡‘åŸºå›¾çš„å¯è§†åŒ–å±•ç¤ºï¼Œèƒ½å¤Ÿæ¸…æ™°åœ°çœ‹åˆ°æ¯ä¸ªé˜¶æ®µä¹‹é—´çš„å…³ç³»å’Œä¼ æ’­çš„æ¯”ä¾‹ã€‚</p>
                <div class="chart-container" id="sankey-container"></div>
            </div>
            <div class="chart-section">
                <h3>ã€Šç˜Ÿç–«è®ºã€‹ç†è®ºä½“ç³»æ ‘çŠ¶å›¾åŠæ—¶é—´è½´</h3>
                <p>æ ‘çŠ¶å›¾å‘ˆç°äº†ã€Šç˜Ÿç–«è®ºã€‹çš„ç†è®ºä½“ç³»ï¼ŒåŒ…æ‹¬â€œç—…å› å­¦è¯´â€â€œç—…ç†å­¦è¯´â€â€œæ²»æ³•ä½“ç³»â€ç­‰æ–¹é¢çš„å†…å®¹ï¼Œç›´è§‚åœ°å±•ç¤ºäº†å„éƒ¨åˆ†ä¹‹é—´çš„å±‚çº§å…³ç³»ã€‚ä¸‹æ–¹çš„äº¤äº’å¼æ—¶é—´è½´åˆ™è®°å½•äº†å´æœ‰æ€§çš„ç”Ÿå¹³é‡è¦äº‹ä»¶ï¼Œé€šè¿‡é¼ æ ‡æ‚¬åœåœ¨æ—¶é—´ç‚¹ä¸Šï¼Œå¯ä»¥äº†è§£åˆ°ç›¸åº”çš„äº‹ä»¶ä¿¡æ¯ã€‚</p>
                <div class="chart-container" id="tree-container"></div>
            </div>
        </div>
    </div>

    <div class="tooltip" style="opacity: 0;"></div>

    <!-- éšæœºæ·»åŠ ä¸€äº›é—ªçƒå…ƒç´  -->
    <div class="sparkle" style="top: 10%; left: 20%;"></div>
    <div class="sparkle" style="top: 30%; left: 50%;"></div>
    <div class="sparkle" style="top: 60%; left: 80%;"></div>

    <!-- æ·»åŠ æ‚¬æµ®å­— -->
    <div class="floating-text" style="left: 10%; top: 100vh;">æˆ¾æ°”è‡´ç—…</div>
    <div class="floating-text" style="left: 30%; top: 100vh;">ç˜Ÿç–«æ ¹æº</div>
    <div class="floating-text" style="left: 50%; top: 100vh;">åŒ»è®ºç»å…¸</div>
    <div class="floating-text" style="left: 70%; top: 100vh;">æŠ—ç–«æœ‰æ–¹</div>

    <script>
        // æ¡‘åŸºå›¾æ•°æ® - ç˜Ÿç–«ä¼ æ’­è·¯å¾„
        const sankeyOption = {
            tooltip: { trigger: 'item' },
            series: [{
                type:'sankey',
                layout: 'none',
                data: [
                    { name: 'æˆ¾æ°”', itemStyle: { color: '#c53d27' } },
                    { name: 'å£é¼»å…¥ä¾µ', itemStyle: { color: '#e68a36' } },
                    { name: 'è¡¨è¯é˜¶æ®µ', itemStyle: { color: '#f5d300' } },
                    { name: 'åŠè¡¨åŠé‡Œ', itemStyle: { color: '#90b44b' } },
                    { name: 'é‡Œè¯é˜¶æ®µ', itemStyle: { color: '#2d6d4b' } },
                    { name: 'æ¢å¤æœŸ', itemStyle: { color: '#1e88a8' } }
                ],
                links: [
                    { source: 'æˆ¾æ°”', target: 'å£é¼»å…¥ä¾µ', value: 10 },
                    { source: 'å£é¼»å…¥ä¾µ', target: 'è¡¨è¯é˜¶æ®µ', value: 8 },
                    { source: 'è¡¨è¯é˜¶æ®µ', target: 'åŠè¡¨åŠé‡Œ', value: 6 },
                    { source: 'åŠè¡¨åŠé‡Œ', target: 'é‡Œè¯é˜¶æ®µ', value: 4 },
                    { source: 'é‡Œè¯é˜¶æ®µ', target: 'æ¢å¤æœŸ', value: 3 },
                    { source: 'åŠè¡¨åŠé‡Œ', target: 'æ¢å¤æœŸ', value: 2 }
                ],
                lineStyle: { color:'source', curveness: 0.3 },
                label: { fontSize: 14 }
            }]
        };

        // æ ‘çŠ¶å›¾æ•°æ® - ç†è®ºä½“ç³»
        const treeData = {
            name: "ç˜Ÿç–«è®ºä½“ç³»",
            children: [
                {
                    name: "ç—…å› å­¦è¯´",
                    children: [
                        { name: "æˆ¾æ°”è‡´ç—…", value: 20 },
                        { name: "éé£éå¯’", value: 15 },
                        { name: "å£é¼»ä¼ å…¥", value: 15 }
                    ]
                },
                {
                    name: "ç—…ç†å­¦è¯´",
                    children: [
                        { name: "è¡¨é‡Œä¼ å˜", value: 18 },
                        { name: "æ°”è¡€è¿è¡Œ", value: 12 },
                        { name: "æ¯’é‚ªå†…é™·", value: 10 }
                    ]
                },
                {
                    name: "æ²»æ³•ä½“ç³»",
                    children: [
                        { name: "é€è¾¾è†œåŸ", value: 25 },
                        { name: "åˆ†æ¶ˆèµ°æ³„", value: 20 },
                        { name: "æ‰¶æ­£ç¥›é‚ª", value: 15 }
                    ]
                }
            ]
        };

        // åˆå§‹åŒ–æ¡‘åŸºå›¾
        const sankeyChart = echarts.init(document.getElementById('sankey-container'));
        sankeyChart.setOption(sankeyOption);

        // åˆå§‹åŒ–æ ‘çŠ¶å›¾
        const treeChart = echarts.init(document.getElementById('tree-container'));
        treeChart.setOption({
            tooltip: { trigger: 'item' },
            series: [{
                type: 'tree',
                data: [treeData],
                layout: 'radial',
                symbolSize: 20,
                label: {
                    position: 'left',
                    verticalAlign:'middle',
                    align: 'right',
                    fontSize: 12
                },
                leaves: {
                    label: { position: 'right' }
                },
                itemStyle: {
                    color: '#d99694',
                    borderColor: '#8b5e3c'
                },
                lineStyle: {
                    color: '#8b5e3c',
                    width: 2,
                    curveness: 0.1
                },
                expandAndCollapse: false,
                animationDuration: 550
            }]
        });

        // äº¤äº’å¼æ—¶é—´è½´
        const timelineData = [
            { year: 1582, event: "ç”Ÿäºæ±Ÿè‹å´å¿", y: 50 },
            { year: 1621, event: "å¼€å§‹è¡ŒåŒ»ç”Ÿæ¶¯", y: 120 },
            { year: 1642, event: "å®Œæˆã€Šç˜Ÿç–«è®ºã€‹", y: 200 },
            { year: 1652, event: "å­¦æœ¯æ€æƒ³ä¼ æ’­", y: 280 }
        ];

        const timelineSvg = d3.select("#tree-container")
           .append("svg")
           .attr("width", "100%")
           .attr("height", 100)
           .style("position", "absolute")
           .style("bottom", "20px");

        timelineSvg.selectAll("circle")
           .data(timelineData)
           .enter()
           .append("circle")
           .attr("cx", (d, i) => 100 + i * 250)
           .attr("cy", 50)
           .attr("r", 8)
           .attr("fill", "#8b0000")
           .on("mouseover", function (event, d) {
                d3.select(".tooltip")
                   .style("opacity", 1)
                   .html(`<strong>${d.year}</strong><br>${d.event}`)
                   .style("left", `${event.pageX}px`)
                   .style("top", `${event.pageY}px`);
            })
           .on("mouseout", () => d3.select(".tooltip").style("opacity", 0));

        // å“åº”å¼è°ƒæ•´
        window.onresize = () => {
            sankeyChart.resize();
            treeChart.resize();
        };
    </script>
</body>

</html>    